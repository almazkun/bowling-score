# Tests
from bowling_score import bowling_score
from unittest import TestCase

BOWLING_TEST_CASES = {
    # Score: game (list of frames)
    # fmt: off
    38: [[5,3], [10], [4,6]],
    0: [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
    1: [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 1]],
    10: [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [10]],
    11: [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [1, 9, 1]],
    15: [[9, 1], [2, 1]],
    19: [[10], [0, 0], [0, 9]],
    20: [[10], [3, 2]],
    24: [[6, 2], [7, 1], [8, 0]],
    26: [[9, 1], [8, 0]],
    57: [[10], [10], [9, 0]],
    60: [[5, 0], [5, 0], [5, 0], [5, 0], [5, 0], [5, 0], [5, 0], [5, 0], [5, 0], [10, 5, 0]],
    62: [[10], [10], [10], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [1, 1]],
    72: [[10], [10], [10], [2, 3]],
    90: [[9, 0], [9, 0], [9, 0], [9, 0], [9, 0], [9, 0], [9, 0], [9, 0], [9, 0], [9, 0]],
    133: [[1, 4], [4, 5], [6, 4], [5, 5], [10], [0, 1], [7, 3], [6, 4], [10], [2, 8, 6]],
    150: [[5, 5], [5, 5], [5, 5], [5, 5], [5, 5], [5, 5], [5, 5], [5, 5], [5, 5], [5, 5, 5]],
    155: [[5, 5], [5, 5], [5, 5], [5, 5], [5, 5], [5, 5], [5, 5], [5, 5], [5, 5], [10, 0, 5]],
    167: [[10], [7, 3], [9, 0], [10], [0, 8], [8, 2], [0, 6], [10], [10], [10, 8, 1]],
    190: [[9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1, 9]],
    200: [[10], [5, 5], [10], [5, 5], [10], [5, 5], [10], [5, 5], [10], [5, 5, 10]],
    279: [[10], [10], [10], [10], [10], [10], [10], [10], [10], [9, 1, 10]],
    289: [[9, 1], [10], [10], [10], [10], [10], [10], [10], [10], [10, 10, 9]],
    298: [[10], [10], [10], [10], [10], [10], [10], [10], [10], [10, 9, 10]],
    299: [[10], [10], [10], [10], [10], [10], [10], [10], [10], [10, 10, 9]],
    300: [[10], [10], [10], [10], [10], [10], [10], [10], [10], [10, 10, 10]],
}  # fmt: on


class Test(TestCase):
    def test_bowling_score(self):
        for score, game in BOWLING_TEST_CASES.items():
            self.assertEqual(score, bowling_score(game))

    def test_bowling_score_error(self):
        invalid_input_data = [
            [[11]] * 10,
            [11] * 10,
            [[1, 9]] * 9 + [[1, 10, 11]],
            [[1, 1, 1]] * 10,
            [[1, 9]] * 11,
        ]

        for test_input in invalid_input_data:
            with self.assertRaises(ValueError):
                bowling_score(test_input)
